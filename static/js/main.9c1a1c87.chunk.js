(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{1003:function(e,t,a){e.exports=a.p+"static/media/shards-dashboards-logo.60a85991.svg"},1063:function(e,t){},1391:function(e,t,a){},1394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(74),c=a.n(l),i=a(229),s=a(110),o=(a(793),a(805),a(806),a(210)),u=a(32),m=a(21),d=a.n(m),p=a(269),b=a(151),f=a(748),E=a(749),h=a.n(E),v=a(411),g={CHANGE:"CHANGE",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",ADD_CROSSFILTER_DATA_REQUEST:"ADD_CROSSFILTER_DATA_REQUEST",ADD_CROSSFILTER_DATA_SUCCESS:"ADD_CROSSFILTER_DATA_SUCCESS",ADD_DIMENSION:"@Weekly/ADD_DIMENSION",ADD_DATE_HOUR_DIMENSION:"@InteractionLineChart/ADD_DATE_HOUR_DIMENSION",ADD_HOUR_DIMENSION:"@HourOfDayChart/ADD_HOUR_DIMENSION",ADD_DAY_OF_WEEK_DIMENSION:"@DayOfWeekChart/ADD_DAY_OF_WEEK_DIMENSION",DC_CHART_FILTER_KEPLER_DATA:"@ChartTemplate/DC_CHART_FILTER_KEPLER_DATA",SMALL_STATS_FILTER_KEPLER_DATA:"@SmallStats/SMALL_STATS_FILTER_KEPLER_DATA",KEPLER_MOUNT_ADD_DATA_TO_MAP:"@KeplerAlerts/ADD_DATA_TO_MAP",UPDATE_CHART:"@ChartTemplate/UPDATE_CHART"};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var A=g.TOGGLE_SIDEBAR,_={menuVisible:!1,navItems:[{title:"Miraflores",to:"/miraflores",htmlBefore:'<i class="material-icons">edit</i>',htmlAfter:""},{title:"Montevideo",htmlBefore:'<i class="material-icons">vertical_split</i>',to:"/montevideo"},{title:"Quito",htmlBefore:'<i class="material-icons">note_add</i>',to:"/quito"},{title:"S\xe3o Paulo",htmlBefore:'<i class="material-icons">view_module</i>',to:"/sao-paulo"},{title:"Xalapa",htmlBefore:'<i class="material-icons">table_chart</i>',to:"/xalapa"}]};var D=Object(b.combineReducers)({keplerGl:h.a,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;switch((arguments.length>1?arguments[1]:void 0).type){case A:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{menuVisible:!e.menuVisible});default:return e}}}),T=Object(f.enhanceReduxMiddleware)([]),y=[b.applyMiddleware.apply(void 0,Object(p.a)(T))],x=Object(b.createStore)(D,{},b.compose.apply(void 0,y));var N=function(e){var t=e.dispatchAction;return r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"#",onClick:function(){return t(g.TOGGLE_SIDEBAR)},className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-none text-center"},r.a.createElement("i",{className:"material-icons"},"\ue5d2")))},j=function(e){var t=e.stickyTop,a=Object(s.useDispatch)();var n=d()("main-navbar","bg-white",t&&"sticky-top");return r.a.createElement("div",{className:n},r.a.createElement(u.g,{className:"p-0"},r.a.createElement(u.k,{type:"light",className:"align-items-stretch flex-md-nowrap p-0 d-sm-flex d-md-none"},r.a.createElement(N,{dispatchAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case g.TOGGLE_SIDEBAR:a({type:g.TOGGLE_SIDEBAR,data:t})}}}))))};j.defaultProps={stickyTop:!0};var L=Object(s.connect)()(j);function R(e){var t=e.hideLogoText,n=e.dispatchAction;return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(u.k,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light"},r.a.createElement(u.l,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1",style:{maxWidth:"25px"},src:a(1003),alt:"Shards Dashboard"}),!t&&r.a.createElement("span",{className:"d-none d-md-inline ml-1"},"Shards Dashboard"))),r.a.createElement("a",{className:"toggle-sidebar d-sm-inline d-md-none",onClick:function(){return n(g.TOGGLE_SIDEBAR)}},r.a.createElement("i",{className:"material-icons"},"\ue5c4"))))}R.defaultProps={hideLogoText:!1};var S=R,C=function(e){var t=e.item;return r.a.createElement(u.i,null,r.a.createElement(u.j,{tag:i.c,to:t.to},t.title&&r.a.createElement("span",null,t.title)))};var H=function(e){var t=e.items;return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(u.h,{className:"nav--no-borders flex-column"},t.map((function(e){return r.a.createElement(C,{key:e.title,item:e})}))))};function k(e){var t=e.menuVisible,a=e.items,n=e.hideLogoText,l=Object(s.useDispatch)();var c=d()("main-sidebar","px-0","col-12",t&&"open");return r.a.createElement(u.f,{tag:"aside",className:c,md:{size:2}},r.a.createElement(S,{hideLogoText:n,dispatchAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case g.TOGGLE_SIDEBAR:l({type:g.TOGGLE_SIDEBAR,data:t})}}}),r.a.createElement(H,{items:a}))}k.defaultProps={menuVisible:!1,items:[],hideLogoText:!1};var P=Object(s.connect)((function(e){return{menuVisible:e.sidebar.menuVisible,items:e.sidebar.navItems}}))(k),I=function(e){var t=e.contained,a=e.menuItems,n=e.copyright;return r.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},r.a.createElement(u.g,{fluid:t},r.a.createElement(u.m,null,r.a.createElement(u.h,null,a.map((function(e){return r.a.createElement(u.i,{key:e.title},r.a.createElement(u.j,{tag:i.b,to:e.to},e.title))}))),r.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},n))))};I.defaultProps={contained:!1,copyright:"Copyright \xa9 2018 DesignRevision",menuItems:[{title:"Home",to:"#"},{title:"Services",to:"#"},{title:"About",to:"#"},{title:"Products",to:"#"},{title:"Blog",to:"#"}]};var w=I,M=function(e){var t=e.children,a=e.noNavbar,n=e.noFooter;return r.a.createElement(u.g,{fluid:!0},r.a.createElement(u.m,null,r.a.createElement(P,null),r.a.createElement(u.f,{className:"main-content p-0",md:{size:10,offset:2},sm:"12",tag:"main"},!a&&r.a.createElement(L,null),t,!n&&r.a.createElement(w,null))))};M.defaultProps={noNavbar:!1,noFooter:!1};var F=M,G=a(231);var U=a(771),W=function(e){var t=e.title,a=e.subtitle,n=e.className,l=Object(U.a)(e,["title","subtitle","className"]),c=d()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(u.f,Object.assign({xs:"12",sm:"4",className:c},l),r.a.createElement("span",{className:"text-uppercase page-subtitle"},a),r.a.createElement("h2",{className:"page-title"},t))},K=a(158),B=a(122),z=a(202),Y=a(203),V=a(417),Q=a(412),X=a(420),Z=a(529),J=a(80),q=(a(1005),Object(J.timeFormat)("%m/%d/%Y"),Object(J.timeParse)("%m/%d/%Y"),Object(J.utcFormat)("%Y-%m-%d %H:%M:%S.%L"),Object(J.utcParse)("%Y-%m-%d %H:%M:%S.%L"));Object(J.format)(".2f");var $=r.a.createContext({data:{}}),ee=function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(V.a)(this,Object(Q.a)(t).call(this,e))).state={loading:!1,hasData:!1},a}return Object(X.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.loading;if(!t.hasData&&!a){this.setState({loading:!0});var n=this.props.url;Object(J.csv)(n).then((function(t){t.forEach((function(e){var t=e;t.alertType=function(e,t){switch(e){case"ACCIDENT":return"accident";case"JAM":return"jam";case"WEATHERHAZARD":switch(t){case"HAZARD_ON_ROAD_POT_HOLE":return"potHole";case"HAZARD_WEATHER_FLOOD":return"flood";case"HAZARD_ON_ROAD_TRAFFIC_LIGHT_FAULT":return"trafficLight";default:return"others"}default:return"others"}}(e.type,e.subtype),t.interactions=+e.interactions,t.longitude=+e.longitude,t.latitude=+e.latitude,t.startTime=q(e.start_time),t.endTime=q(e.end_time),t.reliability=+e.reliability,t.confidence=+e.confidence,t.magvar=+e.magvar,t.duration_min=+e.duration_min,t.kepler=Object.values(t),t.hours=J.utcHour.range(Object(J.utcHour)(e.startTime),J.utcHour.offset(Object(J.utcHour)(e.endTime),1))})),e.data=Object(Z.default)(t),e.setState({loading:!1,hasData:!0})}))}}},{key:"render",value:function(){var e=this.state.hasData,t=this.props.children;return e?r.a.createElement($.Provider,{value:{data:this.data}},r.a.createElement("div",{ref:this.parent},t)):null}}]),t}(n.Component),te=a(317),ae=a.n(te),ne=a(236),re=a.n(ne);re.a.defaults.LineWithLine=re.a.defaults.line,re.a.controllers.LineWithLine=re.a.controllers.line.extend({draw:function(e){if(re.a.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],a=this.chart.ctx,n=t.tooltipPosition().x,r=this.chart.scales["y-axis-0"].top,l=this.chart.scales["y-axis-0"].bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,l),a.lineWidth=.5,a.strokeStyle="#ddd",a.stroke(),a.restore()}}});var le=re.a;function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(V.a)(this,Object(Q.a)(t).call(this,e))).canvasRef=r.a.createRef(),a}return Object(X.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chartData,a=e.chartLabels,n=e.chartOptions,r=e.chartConfig,l=ie({},{maintainAspectRatio:!0,responsive:!0,legend:{display:!1},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:!1,ticks:{display:!1}}],yAxes:[{gridLines:!1,scaleLabel:!1,ticks:{display:!1,isplay:!1,suggestedMax:Math.max.apply(Math,Object(p.a)(t[0].data))+1}}]}},{},n),c=ie({},{type:"line",data:ie({},{labels:a},{},{datasets:t}),options:l},{},r);new le(this.canvasRef.current,c)}},{key:"render",value:function(){var e=this.props,t=e.variation,a=e.label,n=e.value,l=e.percentage,c=e.increase,i=d()("stats-small",t&&"stats-small--".concat(t)),s=d()("1"===t?"p-0 d-flex":"px-0 pb-0"),o=d()("d-flex","1"===t?"flex-column m-auto":"px-3"),m=d()("stats-small__data","1"===t&&"text-center"),p=d()("stats-small__label","text-uppercase","1"!==t&&"mb-1"),b=d()("stats-small__value","count","1"===t?"my-3":"m-0"),f=d()("stats-small__data","1"!==t&&"text-right align-items-center"),E=d()("stats-small__percentage","stats-small__percentage--".concat(c?"increase":"decrease")),h="1"===t?120:60;return r.a.createElement(u.b,{small:!0,className:i},r.a.createElement(u.c,{className:s},r.a.createElement("div",{className:o},r.a.createElement("div",{className:m},r.a.createElement("span",{className:p},a),r.a.createElement("h6",{className:b},n)),r.a.createElement("div",{className:f},r.a.createElement("span",{className:E},l))),r.a.createElement("canvas",{height:h,ref:this.canvasRef,className:"stats-small-".concat(ae()())})))}}]),t}(r.a.Component);se.defaultProps={variation:"",increase:!0,percentage:0,value:0,label:"Label",chartOptions:Object.create(null),chartConfig:Object.create(null),chartData:[],chartLabels:[]};var oe=se,ue={info:{label:"Alerts",id:"alerts"},data:{fields:[{name:"uuid"},{name:"type"},{name:"subtype"},{name:"interactions"},{name:"street"},{name:"longitude"},{name:"latitude"},{name:"start_time"},{name:"end_time"},{name:"reliability"},{name:"confidence"},{name:"magvar"},{name:"duration_min"}],rows:[]}},me=function(e){var t=e.smallStats,a=e.reduxHandler,l=Object(n.useState)([]),c=Object(K.a)(l,2),i=c[0],s=c[1],o=Object(n.useState)(null),m=Object(K.a)(o,2),d=m[0],b=m[1],f=Object(n.useState)([]),E=Object(K.a)(f,2),h=E[0],v=E[1],O=Object(n.useContext)($).data;return Object(n.useEffect)((function(){b(O.dimension((function(e){return e.alertType})))}),[O]),Object(n.useEffect)((function(){v(d?d.group().all():[])}),[d]),Object(n.useEffect)((function(){return d?(Array.isArray(i)&&i.length?d.filter((function(e){return i.includes(e)})):d.filterAll(),ue.data.rows=O.allFiltered().map((function(e){return e.kepler})),a(g.SMALL_STATS_FILTER_KEPLER_DATA,{datasets:ue,options:{centerMap:!0}}),Object(B.redrawAll)(),function(){d.filterAll()}):function(){}}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.m,null,h.filter((function(e){return"others"!==e.key})).sort((function(e,t){return t.value-e.value})).map((function(e,a){var n=e.key,l=e.value,c=t[a];return c.label=n,c.value=l,r.a.createElement(u.f,Object.assign({className:"col-lg mb-4",key:n},c.attrs),r.a.createElement(oe,{id:"small-stats-".concat(a),variation:"1",chartData:c.datasets,chartLabels:c.chartLabels,label:c.label,value:c.value,percentage:c.percentage,increase:c.increase,decrease:c.decrease}),r.a.createElement(u.a,{key:n,theme:"info",block:!0,className:"mt-2",active:!!i.includes(n),onClick:function(){i.includes(n)?s(i.filter((function(e){return e!==n}))):s([].concat(Object(p.a)(i),[n]))}},r.a.createElement("span",{style:{"font-size":"larger"}},"Filter")))}))))};me.defaultProps={smallStats:[{label:"Posts",value:"2,390",percentage:"4.7%",increase:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 184, 216, 0.1)",borderColor:"rgb(0, 184, 216)",data:[1,2,1,3,5,4,7]}]},{label:"Pages",value:"182",percentage:"12.4",increase:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(23,198,113,0.1)",borderColor:"rgb(23,198,113)",data:[1,2,3,3,3,4,4]}]},{label:"Comments",value:"8,147",percentage:"3.8%",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,180,0,0.1)",borderColor:"rgb(255,180,0)",data:[2,3,3,3,4,3,3]}]},{label:"New Customers",value:"29",percentage:"2.71%",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,65,105,0.1)",borderColor:"rgb(255,65,105)",data:[1,7,1,3,1,4,8]}]},{label:"Subscribers",value:"17,281",percentage:"2.4%",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgb(0,123,255,0.1)",borderColor:"rgb(0,123,255)",data:[3,2,3,2,4,5,4]}]}]};var de=me,pe=a(268),be=a(22),fe=function(e){var t=e.chart,a=e.text,n=e.className,l=void 0===n?"":n,c=e.theme,i=void 0===c?"warning":c,s=e.size,o=void 0===s?"":s;return r.a.createElement(u.a,{theme:i,size:o,className:l,onClick:function(){t.filterAll(),B.redrawAll()}},a)};function Ee(){var e=Object(pe.a)(["\n    width: 100%;\n    height: auto;\n    box-sizing: border-box;\n    padding: 5px;\n    & label: {\n      textTransform: 'capitalize',\n      textDecoration: 'underline',\n    }\n"]);return Ee=function(){return e},e}var he=be.default.div(Ee()),ve=function(e){var t=e.chartFunction,a=e.title,l=e.reduxHandler,c=e.className,i=e.titleClassName,s=e.resetClassName,o=e.resetText,m=Object(n.useState)(null),d=Object(K.a)(m,2),p=d[0],b=d[1],f=Object(n.useContext)($).data,E=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=t({div:E.current,data:f});e.on("filtered",(function(){return ue.data.rows=f.allFiltered().map((function(e){return e.kepler})),l(g.DC_CHART_FILTER_KEPLER_DATA,{datasets:ue,options:{centerMap:!0}})})),e.render(),b(e)}),[]),r.a.createElement(u.b,null,r.a.createElement(u.d,{className:"border-bottom"},r.a.createElement(u.m,{className:"align-items-center"},r.a.createElement(u.f,{xs:8},r.a.createElement(u.e,{className:i},a)),r.a.createElement(u.f,null,r.a.createElement(fe,{chart:p,text:o,className:s})))),r.a.createElement(u.c,{className:c},r.a.createElement(he,{ref:E})))};ve.defaultProps={className:"p-1",titleClassName:"",resetClassName:"d-flex ml-auto",resetText:"Reset"};var ge=ve,Oe=function(e){var t=e.div,a=e.data,n=B.rowChart(t),r=a.dimension((function(e){var t=e.startTime.getDay(),a=e.endTime.getDay(),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t===a?["".concat(t,".").concat(n[t])]:["".concat(t,".").concat(n[t]),"".concat(a,".").concat(n[a])]}),!0),l=r.group();return n.dimension(r).group(l).ordering(B.pluck("key")).elasticX(!0).label((function(e){var t=e.key;return t.slice(2,t.length+1)})).xAxis().ticks(5),n},Ae=function(e){var t=e.reduxHandler;return r.a.createElement(ge,{chartFunction:Oe,title:"Weekday",reduxHandler:t})},_e=function(e){var t=e.div,a=e.data,n=B.barChart(t),r=a.dimension((function(e){return e.hours.map((function(e){return e.getHours()}))}),!0),l=r.group();n.dimension(r).group(l).gap(2).x(Object(J.scaleOrdinal)()).xUnits(B.units.ordinal).height(250).renderHorizontalGridLines(!0).elasticY(!0).yAxisLabel("Total Alerts").xAxisLabel("Hour");var c=l.all().map((function(e,t){return t%2?null:e.key}));return n.xAxis().tickValues(c).tickSizeOuter(0),n.yAxis().ticks(5),n},De=function(e){var t=e.reduxHandler;return r.a.createElement(ge,{chartFunction:_e,chartName:"HourOfDay",title:"Active Alerts by Hour",reduxHandler:t})};function Te(){var e=Object(pe.a)(["\n    width: 100%;\n    height: auto;\n    box-sizing: border-box;\n    padding: 5px;\n    & label: {\n      textTransform: 'capitalize',\n      textDecoration: 'underline',\n    }\n"]);return Te=function(){return e},e}var ye=be.default.div(Te()),xe=function(e){var t=e.chartFunction,a=e.title,l=e.reduxHandler,c=e.className,i=e.titleClassName,s=e.resetClassName,o=e.resetText,m=Object(n.useState)(null),d=Object(K.a)(m,2),p=d[0],b=d[1],f=Object(n.useContext)($).data,E=Object(n.useRef)(null),h=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=t({div1:E.current,div2:h.current,data:f}),a=Object(K.a)(e,2),n=a[0],r=a[1];n.on("filtered",(function(){return ue.data.rows=f.allFiltered().map((function(e){return e.kepler})),l(g.DC_CHART_FILTER_KEPLER_DATA,{datasets:ue,options:{centerMap:!0}})})),n.render(),r.render(),b(n)}),[]),r.a.createElement(u.b,null,r.a.createElement(u.d,{className:"border-bottom"},r.a.createElement(u.m,{className:"align-items-center"},r.a.createElement(u.f,{xs:8},r.a.createElement(u.e,{className:i},a)),r.a.createElement(u.f,null,r.a.createElement(fe,{chart:p,text:o,className:s})))),r.a.createElement(u.c,{className:c},r.a.createElement(ye,{ref:h}),r.a.createElement(ye,{ref:E})))};xe.defaultProps={className:"p-1",titleClassName:"",resetClassName:"d-flex ml-auto",resetText:"Reset"};var Ne=xe,je=function(e){var t=e.div1,a=e.div2,n=e.data.dimension((function(e){return e.hours}),!0),r=n.group(),l=n.group().reduceSum((function(e){return e.interactions})),c=B.barChart(t);c.height(80).margins({top:0,right:50,bottom:20,left:40}).dimension(n).group(r,"Total Alerts").centerBar(!0).gap(1).x(Object(J.scaleTime)().domain([new Date(2019,9,26),new Date(2019,10,3)])).round(J.utcHour.round).alwaysUseRounding(!0).xUnits(J.utcHour);var i=B.lineChart(a);return i.dimension(n).mouseZoomable(!1).rangeChart(c).transitionDuration(1e3).x(Object(J.scaleTime)().domain([new Date(2019,9,26),new Date(2019,10,3)])).round(J.utcHour.round).xUnits(J.utcHours).elasticY(!0).renderHorizontalGridLines(!0).legend(B.legend().x(800).y(10).itemHeight(13).gap(5)).brushOn(!1).group(l,"Hourly Interactions"),[c,i]},Le=function(e){var t=e.reduxHandler;return r.a.createElement(Ne,{chartFunction:je,title:"Hourly Alert Interactions",reduxHandler:t})},Re=a(760),Se=a.n(Re),Ce=a(761),He=a.n(Ce),ke=function(e){var t=e.id;return r.a.createElement(u.b,{className:"h-100"},r.a.createElement(u.c,{style:{minHeight:"660px"}},r.a.createElement(Se.a,null,(function(e){var a=e.height,n=e.width;return r.a.createElement(He.a,{mapboxApiAccessToken:"pk.eyJ1IjoiaGJiYXJyZXRvIiwiYSI6ImNqd3RveWxkdTAydzg0M3F5eWhyYXd5NGMifQ.FgAUlMo8dg_qAo_ZsKQnIg",id:t,width:n,height:a})}))))};var Pe=function(e){var t=e.id,a=e.reduxHandler,l=Object(n.useContext)($).data;return Object(n.useEffect)((function(){ue.data.rows=l.all().map((function(e){return e.kepler})),a(g.KEPLER_MOUNT_ADD_DATA_TO_MAP,{datasets:ue,options:{centerMap:!0}})}),[]),r.a.createElement(ke,{id:t})},Ie=function(e){var t=e.keplerId,a=e.reduxHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.m,{className:"mb-3"},r.a.createElement(u.f,{sm:12,md:8,className:"px-2"},r.a.createElement(u.m,{style:{height:"100%"}},r.a.createElement(u.f,{sm:12},r.a.createElement(Pe,{id:t,reduxHandler:a})))),r.a.createElement(u.f,{md:4,sm:12,className:"px-2"},r.a.createElement(u.m,{className:"mb-3"},r.a.createElement(u.f,{sm:12},r.a.createElement(Ae,{reduxHandler:a}))),r.a.createElement(u.m,null,r.a.createElement(u.f,{sm:12},r.a.createElement(De,{reduxHandler:a}))))),r.a.createElement(u.m,{className:"mb-3"},r.a.createElement(u.f,{sm:12},r.a.createElement(Le,{reduxHandler:a}))),r.a.createElement(u.m,{className:"mb-3"}))},we=Object(s.connect)()((function(e){var t=e.city,a="".concat(t,"-map"),n=Object(s.useDispatch)(),l=Object(G.forwardTo)(a,n);function c(e,t){switch(e){case g.KEPLER_MOUNT_ADD_DATA_TO_MAP:!function(e){var t=e.mapDispatch,a=e.dispatch,n=e.data;a({type:g.KEPLER_MOUNT_ADD_DATA_TO_MAP}),t(Object(G.addDataToMap)(n))}({mapDispatch:l,dispatch:n,data:t});break;case g.DC_CHART_FILTER_KEPLER_DATA:!function(e){var t=e.mapDispatch,a=e.dispatch,n=e.data;a({type:g.DC_CHART_FILTER_KEPLER_DATA}),t(Object(G.addDataToMap)(n))}({mapDispatch:l,dispatch:n,data:t});break;case g.SMALL_STATS_FILTER_KEPLER_DATA:!function(e){var t=e.mapDispatch,a=e.dispatch,n=e.data;a({type:g.SMALL_STATS_FILTER_KEPLER_DATA}),t(Object(G.addDataToMap)(n))}({mapDispatch:l,dispatch:n,data:t})}}return r.a.createElement(u.g,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(u.m,{noGutters:!0,className:"page-header py-2"},r.a.createElement(W,{title:t,subtitle:"Weekly Report",className:"text-sm-left mb-3"})),r.a.createElement(de,{reduxHandler:c}),r.a.createElement(Ie,{keplerId:a,reduxHandler:c}))})),Me="https://hugo-data.s3.us-east-2.amazonaws.com";function Fe(e){var t=e.cities;return r.a.createElement(o.d,null,r.a.createElement(o.a,{exact:!0,from:"/",to:"/miraflores"}),t.map((function(e){return r.a.createElement(o.b,{key:e.id,path:e.path},r.a.createElement(ee,{url:e.url},r.a.createElement(F,null,r.a.createElement(we,{city:e.name}))))})))}function Ge(){var e=Object(pe.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html, body, #root {\n    min-height: 100%;\n  }\n\n  body {\n    -webkit-font-smoothing: antialiased !important;\n  }\n\n  body, input, button {\n    color: #222;\n    font-size: 14px;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return Ge=function(){return e},e}Fe.defaultProps={cities:[{id:1,path:"/miraflores",name:"Miraflores",url:"".concat(Me,"/MirafloresAlerts.csv")},{id:2,path:"/montevideo",name:"Montevideo",url:"".concat(Me,"/MontevideoAlerts.csv")},{id:3,path:"/quito",name:"Quito",url:"".concat(Me,"/QuitoAlerts.csv")},{id:4,path:"/sao-paulo",name:"S\xe3o Paulo",url:"".concat(Me,"/SaoPauloAlerts.csv")},{id:5,path:"/xalapa",name:"Xalapa",url:"".concat(Me,"/XalapaAlerts.csv")}]};var Ue=Object(be.createGlobalStyle)(Ge());a(1390),a(1391);var We=function(){return r.a.createElement(s.Provider,{store:x},r.a.createElement(i.a,{basename:"/cities-reports"},r.a.createElement(Fe,null),r.a.createElement(Ue,null)))};c.a.render(r.a.createElement(We,null),document.getElementById("root"))},327:function(e,t){},542:function(e,t){},543:function(e,t){},785:function(e,t,a){e.exports=a(1394)},938:function(e,t){}},[[785,1,2]]]);
//# sourceMappingURL=main.9c1a1c87.chunk.js.map